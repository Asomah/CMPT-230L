<!DOCTYPE HTML>
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
      <title>Simple Game</title>
	  <script>
	 // Global Variables
	  
			   
			   
		
		var currentLocation = 0 ;
		var previousLocation = 0;
		var globalLocations = [];
		var score = 0;
		
		function navigate (dir){
		 
	  var nav =
      [  //   N0   S1  E2  W3
            [ -1,  3, -1,  1], 
            [ -1,  4,  0,  2], 
            [ -1,  5,  1, -1],  
            [  0,  6,  -1, 4],
            [  1,  7,  3,  5],
            [  2,  8,  4, -1],
            [  3, -1, -1,  7],
            [  4, -1,  6,  8],
            [  5, -1,  7, -1],
          ];
		  
		  previousLocation = currentLocation;
			
        
		newLocation = nav[currentLocation][dir]
		currentLocation = newLocation
		
		if(currentLocation >= 0)
		score += 5;
		document.getElementById("score").innerHTML = score;
		
			if (currentLocation === -1)
		{
			currentLocation = previousLocation;
			 alert("You cannot go that way")
			
           var taPtr = document.getElementById("taDisplay");
           var history = taPtr.value;
           //taPtr.value = msg + "\n" + history;
        }
	};
	
	
	/*
	
	function location(id){
	
	this.id = id
	this.name = ""
	this.desc = ""
	this.item = ""
	this.ToS
	
	}
	
	*/
	
    var displayLocations = ["Sand" , "Jungle" , "Rocks" , "Sea" , "Cave" , "Trees", "Island", "Lake" , "River"];
		
		function Location(id)
		{
		this.id = id;
		this.name = displayLocations[this.id];
		};
		Location.prototype.toString = function()
		{
		return this.name;
		};
		
		var displayItems = ["Machete" , "Zebra" , "Gold" , "Whale" , "Money" , "Axe" , "Orange" , "Boat" , "Crab"]
		function Item(id)
		{
		    this.id = id
			this.name = displayItems[this.id];
		};
		Item.prototype.id = null;
		Item.prototype.name = null;
		Item.prototype.description = null;
		Item.prototype.toString = function(){
		return this.name;
		};
			
	for(var i = 0; i < displayLocations.length; i++){
	
	var loc = new Location(i);
	globalLocations.push(loc);
	
	}
	function updateDisplay()
	{
	
	var location = globalLocations[currentLocation];
    document.getElementById("taDisplay").innerHTML = location.name;
	}
	
	
		function check() {
			var check = document.getElementById("txtcmd");
			switch (check.value)
			{
			case "n":
			   navigate(0);
               check.value = "";
			   break;
			case "N":
			    navigate(0);
                check.value = "";
				break;
			case "s":
			   navigate(1); 
               check.value = "";
			   break;
			case "S":
			   navigate(1);
               check.value = "";
			   break;
			case "e":
			   navigate(3);
               check.value = "";
			   break;
			case "E":
			   navigate(3);
               check.value = "";
			   break;
			case "w":
			   navigate(2);
              check.value = "";
			  break;
			case "W":
			  navigate(2);
              check.value = "";
			  break;
			case "help":
			   help();
			   check.value ="";
			   break;
			default:
			  check.value = "";
			  updateDisplay("Invalid Command if you need help type help for directions");
			 }
		}
	
	function help()
	{
	document.getElementById('taDisplay').innerHTML = "Type n or N to go north, s or S to go south, w or W to go waest and e or E to go East";
    };	
	
           </script>
		 </head>
   <body>
   
      <h1>Text Game</h1>
	  <p>This is the map for the game, You are now in Sand.</p>
	  <br>
	  <img src="https://cacoo.com/diagrams/bahYHRDR7WP1jqdQ-0AD3A.png?t=1392313380510" alt="Game Map">
	  <hr>
	 <h3>Start Game!<h3>
	 <hr>
	 <textarea id="taDisplay" style="width:400px; height:200px;">
      </textarea>
      <br>
      <input type="button"
             value = "North"
             onclick="navigate(0); updateDisplay();">
      <input type="button"
             value = "South"
             onclick="navigate(1); updateDisplay();">
      <input type="button"
             value = "East"
             onclick="navigate(3); updateDisplay();">
      <input type="button"
             value = "West"
             onclick="navigate(2); updateDisplay();">
			 <br>
			Score: <span id="score">0</span>
			
			
			 <br><br>
        <input type = "button"
        value = "Enter Value"
        onclick = "check();updateDisplay();">
        <input type = "text"
        id = "txtcmd"; >
		
        <br><br>
			
					
   </body>
</html>